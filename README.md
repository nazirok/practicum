# Задание N1

## Выполнены первые два пункта задания.

## Инструмент

В качестве инструмента выбран module federation. Так как:
- в проекте используется только один фреймворк react
- соотвественно есть зависимости которые желательно чтобы были общими
- у каджого модуля могут быть свои статические ресурсы которые должны загружаться вместе с модулем

## Модули

В проекте просматривается три области которые можно разделить на микрофронтенды
- Аутентификация
- Профиль пользователя
- Работа с картинками

## Модуль аутентификации: auth

В этот модуль выненсены компоненты которые отвечают за аутентификацию и регистрацию пользоватей. Компонтеты Login и Register. Также в этот модуль в utils вынесены необходимые методы по взаимодействию с API

## Модуль дл работы с профилем пользователя: profile

В этот модуль вынесены компоненты для работы с профилем пользователя. EditAvatarPopup, EditProfilePopup. Также в этот модуль в utils вынесены необходимые методы по взаимодействию с API

## Модуль дл работы с картинками: cards

В этот модуль вынесены компоненты для работы с картинками. Card, ImagePopup. Также в этот модуль в utils вынесены необходимые методы по взаимодействию с API.

## Общий модуль который содержит общие компоненты и ресурсы: libs

В этот модуль вынесены общие компоненты и ресурсы. 

## Главный модель host

Это главный модуль который аккумулирует в себе всю бизнес логику. 

# Задание N2

В процессе декомпозиции выделены 8 микросервисов. Также добавлен оркестратор.
- Сервис для работы с пользователями
- Сервис для для работы с товарами
- Сервис для работы с услугами
- Сервис заказов
- Сервис нотификации
- Сервис поддержки
- Сервис аукционов
- Сервис отчетов

### Сервис для работы с пользователями
Сервис выполняет функции связанные с пользователями: редактирование профиля, регистрация,
аутентификация, назначение ролей. 

### Сервис для работы с товарами
Сервис выполняет функции по работе с товарами: 
- создание/редактирование/удаление товары
- поиск товаров
- выдача списка товаров

### Сервис для работы с услугами
Сервис выполняет функции по работе с услугами: 
- создание/редактирование/удаление услуги
- поиск услуги
- выдача списка услуг

### Сервис заказов
Сервис выполняет функции связанные с заказами и оплатой этих заказов. Заказы могут быть как товаров так и услуг. Функции:
- создание/редактирование/удаление заказа
- выдача заказов
- иниировать платеж
- отменить платеж

### Сервис аукционов
Сервис выполняет функции связанные с аукционами. Функции:
- создание аукциона
- редактирование аукциона
- обновление ставок аукциона
- выгрузка данных аукциона в кэш

### Сервис поддержки
Сервис выполняет функции связанные с поддержкой пользователей. Функции:
- создать заявку: аппеляцию/техподдержку
- регистрация заявки: аппеляцию/техподдержку
- обновление статуса заявки

### Сервис отчетов
Сервис выполняет функции связанные с формированием отчетов и сохранением данных для отчетов. Функции:
- Сформировать отчет по заказами
- Сформировать отчет по продажам
- Сформировать отчет по пользователям
- Аккумулировать данные для отчетов с других сервисов

### Сервис нотификации
Сервис выполняет функции связанные нотификацией пользователей. Функции:
- Нотификация нового пользователя
- Нотификация участника аукциона
- Нотификация об изменении статуса заказа

Для межсервсиного взаимодействия выбран асинхронный вариант через брокер сообщений(например kafka, nats, Rabbit). Также можно 
добавить синхронное взаимодействие по http или rpc по необходимости.

Для управления рабочими процессами по работе с заказами и акуционами добавлены оркестраторы. Так как процессы сложные и нужнен контроль над 
выполнением, обработкой ошибок и откатом. 

Сервис по работе с аукционами должен уметь адаптироваться к резкому скачку нагрузки. Для этого нужные(горячие)
данные нужно уметь выгружать в кэш. Для этой цели добавлено высокопроизводительная in-memory база данных. Например Redis.
Кэш будет общим для всех инстансов сервиса в случае масштабирования. 

У сервиса отчетов в качестве баззы данных используется колоночная база данных(например clickhouse). Данные туда скадываются
через брокер сообщений. Другие сервисы при выполнении своих функций отправляют нужные данные для отчетов в этот сервис через брокер.
Также это можно сделать через репликацию нужных данных из баз сервисов в базу сервиса отчетов(использовав посредник).


### Сылка на схему: https://disk.yandex.ru/d/zPMJQHId8pO76Q